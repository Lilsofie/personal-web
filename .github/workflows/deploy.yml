name: Deploy

on:
  push:
    branches: [ main ]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
       - name: Checkout code
         uses: actions/checkout@v2
        
       - name: Login to Docker Hub
         uses: docker/login-action@v3
         with:
           username: ${{ secrets.DOCKER_USERNAME }}
           password: ${{ secrets.DOCKER_PASSWORD}}
       - name: Build and push
         run: |
          docker buildx build -t ${{ secrets.DOCKER_USERNAME }}/personal-web:latest . 
          docker push ${{ secrets.DOCKER_USERNAME }}/personal-web:latest
